#
# This file is managed by Chef.
# Do NOT modify this file directly.
#

service {
<%= as_config_generator(@config['service']) %>
}

logging {
<%= as_config_generator(@config['logging']) %>
}

mod-lua {
<%= as_config_generator(@config['mod-lua']) %>
}

<%- unless node['aerospike']['config']['xdr'].empty? %>
xdr {
<%= as_config_generator(@config['xdr']) %>
}
<%- end %>

network {
  service {
    address <%= node['aerospike']['config']['network']['service']['address'] %>
    port    <%= node['aerospike']['config']['network']['service']['port'] %>
  }

  heartbeat {
    mode     <%= node['aerospike']['config']['network']['service']['mode'] %>
    interval <%= node['aerospike']['config']['network']['service']['interval'] %>
    timeout  <%= node['aerospike']['config']['network']['service']['timeout'] %>
    port     <%= node['aerospike']['config']['network']['heartbeat']['port'] %>
    address  <%= node['aerospike']['config']['network']['heartbeat']['address'] %>

    mesh-seed-address-port <%= node[aerospike]['nodes'] %> <%= node['aerospike']['config']['network']['heartbeat']['port'] %>
    }
}

<% @config['namespace'].each do |name, options| %>
namespace <%= name %> {
<%= as_config_generator(options) %>
}

<% end %>
